package rohin.gameengine;

// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// CommandManager:
//
// Serves as a management container for ICommand objects.
//
// Author:  Rohin Gosling
// Version: 1.0
// Since:   2014-04-18
//
// /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

import java.util.*;

public class ResourceManager
{
    // ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // 
    // DATA TYPES
    //
    // ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    // ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // 
    // CONSTANTS
    //
    // ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    // ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // 
    // FIELDS
    //
    // ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
 
    private Map <Integer, Resource> resources;
    
    // ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // 
    // ACCESSORS and MUTATORS
    //
    // ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    public Collection <Resource> getResources () { return this.resources.values (); }
 
    // ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // 
    // METHODS
    //
    // ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    //
    // Constructor 1
    //
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    public ResourceManager ()
    {
        initialize ();
    }
    
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    //
    // Initialize class. 
    //
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    private void initialize ()
    {   
        this.resources = new HashMap <Integer, Resource> ();
    }
    
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    //
    // Add a resource. Precondition: The resource mast have been created before being added to the resource map.
    //
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    public void add ( int id, Resource resource )
    {
        this.resources.put ( id, resource );
    }
    
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    //
    // Load a resource.
    //
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    public void load ( int id )
    {
        Resource resource = this.resources.get ( id );        
        resource.load ();
    }
    
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    //
    // Load a resource, from a specific file.
    //
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    public void load ( int id, String fileName )
    {
        Resource resource = this.resources.get ( id );
        resource.setFileName ( fileName );
        resource.load ();
    }
    
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    //
    // Load all resources.
    //
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    public void loadAll ()
    {
        Collection <Resource> resources = this.resources.values ();
        
        for ( Resource resource : resources )
        {
            resource.load ();
        }
    }
    
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    //
    // Release all resources.
    //
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    public void unloadAll ()
    {
        Collection <Resource> resources = this.resources.values ();
        
        for ( Resource resource : resources )
        {
            resource.unload ();
        }
    }
    
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    //
    // Get a resource, by ID.
    //
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    public Resource get ( int id )
    {
        return this.resources.get ( id );
    }
    
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    //
    // Release a resource, by ID.
    //
    // ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    
    public void unload ( int id )
    {
        Resource resource = this.resources.get ( id );
        resource.unload ();        
    }
}
